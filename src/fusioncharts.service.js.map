{"version":3,"file":"fusioncharts.service.js","sourceRoot":"","sources":["../../src/angular-fusioncharts/src/fusioncharts.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;;AAE3C;IAAA;KAIC;wFAHY,kBAAkB;4EAAlB,kBAAkB,WAAlB,kBAAkB;6BAH/B;CAMC,AAJD,IAIC;SAHY,kBAAkB;uFAAlB,kBAAkB;cAD9B,UAAU;;AAMX;IAkBE,6BAAY,QAA4B;QACtC,IAAI,MAAW,CAAC;QAChB,IAAI,mBAAmB,CAAC,WAAW,EAAE,EAAE;YACrC,MAAM,GAAG,mBAAmB,CAAC,SAAS,EAAE,CAAC;SAC1C;aAAM;YACL,MAAM,GAAG;gBACP,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,OAAO,EAAE,QAAQ,CAAC,OAAO;aAC1B,CAAC;SACH;QACD,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAvBM,6BAAS,GAAhB,UAAiB,MAAW;QAC1B,mBAAmB,CAAC,OAAO,GAAG,MAAM,CAAC;IACvC,CAAC;IAEM,6BAAS,GAAhB;QACE,OAAO,mBAAmB,CAAC,OAAO,CAAC;IACrC,CAAC;IAEM,+BAAW,GAAlB;QACE,OAAO,CAAC,CAAC,mBAAmB,CAAC,OAAO,CAAC;IACvC,CAAC;IAeD,iDAAmB,GAAnB,UAAoB,IAAS,EAAE,OAAc;QAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,KAAK,cAAc,EAAE;YACjD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,oBAAoB,GAAG,IAAI,EAAE,CAAC;SACpC;QAED,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,OAAO,CAAC,UAAC,mBAAwB;gBACvC,IACE,CAAC,mBAAmB,CAAC,OAAO,IAAI,mBAAmB,CAAC,OAAO,CAAC;oBAC5D,CAAC,mBAAmB,CAAC,IAAI,IAAI,mBAAmB,CAAC,IAAI,CAAC,EACtD;oBACA,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;iBAClC;qBAAM;oBACL,mBAAmB,CAAC,IAAI,CAAC,CAAC;iBAC3B;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,mDAAqB,GAArB;QACE,OAAO,IAAI,CAAC,oBAAoB,CAAC;IACnC,CAAC;IAED,8CAAgB,GAAhB;QACE,mBAAmB,CAAC,SAAS,EAAE,CAAC;QAChC,OAAO,mBAAmB,CAAC,SAAS,CAAC;IACvC,CAAC;IAzDM,2BAAO,GAAQ,IAAI,CAAC;IACpB,6BAAS,GAAQ,CAAC,CAAC;0FAFf,mBAAmB;6EAAnB,mBAAmB,WAAnB,mBAAmB;8BAThC;CAoEC,AA5DD,IA4DC;SA3DY,mBAAmB;uFAAnB,mBAAmB;cAD/B,UAAU","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class FusionChartsStatic {\r\n  core: any;\r\n  modules: Function[];\r\n}\r\n\r\n@Injectable()\r\nexport class FusionChartsService {\r\n  static _fcRoot: any = null;\r\n  static itemCount: any = 0;\r\n  _fusionchartsStatice: FusionChartsStatic;\r\n\r\n  static setFCRoot(fcRoot: any) {\r\n    FusionChartsService._fcRoot = fcRoot;\r\n  }\r\n\r\n  static getFCRoot(): any {\r\n    return FusionChartsService._fcRoot;\r\n  }\r\n\r\n  static isFCRootSet() {\r\n    return !!FusionChartsService._fcRoot;\r\n  }\r\n\r\n  constructor(FCStatic: FusionChartsStatic) {\r\n    let fcRoot: any;\r\n    if (FusionChartsService.isFCRootSet()) {\r\n      fcRoot = FusionChartsService.getFCRoot();\r\n    } else {\r\n      fcRoot = {\r\n        core: FCStatic.core,\r\n        modules: FCStatic.modules\r\n      };\r\n    }\r\n    this.resolveFusionCharts(fcRoot.core, fcRoot.modules);\r\n  }\r\n\r\n  resolveFusionCharts(core: any, modules: any[]) {\r\n    if (core && core.id && core.id === 'FusionCharts') {\r\n      this._fusionchartsStatice = core;\r\n    } else {\r\n      this._fusionchartsStatice = core();\r\n    }\r\n\r\n    if (modules) {\r\n      modules.forEach((FusionChartsModules: any) => {\r\n        if (\r\n          (FusionChartsModules.getName && FusionChartsModules.getType) ||\r\n          (FusionChartsModules.name && FusionChartsModules.type)\r\n        ) {\r\n          core.addDep(FusionChartsModules);\r\n        } else {\r\n          FusionChartsModules(core);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getFusionChartsStatic() {\r\n    return this._fusionchartsStatice;\r\n  }\r\n\r\n  getNextItemCount() {\r\n    FusionChartsService.itemCount++;\r\n    return FusionChartsService.itemCount;\r\n  }\r\n}\r\n"]}